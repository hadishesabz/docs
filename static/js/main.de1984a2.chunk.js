(this.webpackJsonpdocs=this.webpackJsonpdocs||[]).push([[0],{221:function(e,t,a){},356:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),c=a(20),r=a.n(c),o=(a(221),a(201)),s=a(13),l=a(31),d=a(26),u=a(398),j=a(399),p=a(138),h=a(83),b=a(407),m=a(137),g=a(22),O=a(65),f=a.n(O),x=a(198),v=a.n(x),w=a(197),y=a.n(w),k=a(91);k.a.apps.length?k.a.app():k.a.initializeApp({apiKey:"AIzaSyD1J2BUETpN7mb6Zf07OZidLc8_tXW_jTo",authDomain:"docs-12481.firebaseapp.com",projectId:"docs-12481",storageBucket:"docs-12481.appspot.com",messagingSenderId:"585557916104",appId:"1:585557916104:web:4577569eade73a2a7068fd",measurementId:"G-DB4SYMNJ5G"});var C=k.a,N=a(406),S=a(139),R=a(403),L=a(391),I=a(393),U=a(395),F=a(396),B=a(397),D=a(117),T=a(195),P=a.n(T),W=a(196),E=a.n(W),G=a(194),q=a.n(G),z=a(408),A=a(4),M=Object(m.a)((function(e){return{root:{maxWidth:345,margin:16},media:{height:0,paddingTop:"56.25%"},discription:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:D.a[500]}}}));function J(e){var t=M(),a=Object(s.f)(),i=Object(n.useState)(),c=Object(l.a)(i,2),r=c[0],o=c[1],d=function(e){e.stopPropagation()};return Object(n.useEffect)((function(){C.storage().ref(e.data.avatar).getDownloadURL().then((function(e){o(e)}))}),[e.data.avatar]),Object(A.jsxs)(L.a,{onClick:function(){a.push("/doc/".concat(e.data.title,"?data=").concat(e.data.data))},className:t.root,children:[Object(A.jsx)(I.a,{avatar:Object(A.jsx)(z.a,{onClick:d,title:e.data.author,placement:"top",arrow:!0,children:Object(A.jsx)(N.a,{alt:e.data.author,src:r,"aria-label":"recipe",className:t.avatar})}),action:Object(A.jsx)(p.a,{onClick:d,"aria-label":"settings",children:Object(A.jsx)(q.a,{})}),title:e.data.title,subheader:e.data.date}),Object(A.jsx)(U.a,{className:t.media,image:e.data.cover,title:e.data.title}),Object(A.jsx)(F.a,{children:Object(A.jsx)(h.a,{className:t.discription,variant:"body2",color:"textSecondary",component:"p",children:JSON.parse(e.data.data).blocks[0].text})}),Object(A.jsxs)(B.a,{disableSpacing:!0,children:[Object(A.jsx)(p.a,{onClick:d,"aria-label":"add to favorites",children:Object(A.jsx)(P.a,{})}),Object(A.jsx)(p.a,{onClick:d,"aria-label":"share",children:Object(A.jsx)(E.a,{})})]})]})}var V=Object(m.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(d.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(d.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(g.a)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(g.a)(e.palette.common.white,.25)},marginLeft:0,marginRight:20,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(d.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}}));function Y(){var e=V(),t=Object(s.f)(),a=Object(n.useState)([]),i=Object(l.a)(a,2),c=i[0],r=i[1],o=Object(n.useState)({displayName:""}),d=Object(l.a)(o,2),m=d[0],g=d[1],O=Object(n.useState)(),x=Object(l.a)(O,2),w=x[0],k=x[1];return Object(n.useEffect)((function(){C.auth().onAuthStateChanged((function(e){e?(g(e),C.storage().ref(e.photoURL).getDownloadURL().then((function(e){k(e)})),C.database().ref("docs").on("value",(function(e){var t=e.val(),a=[];for(var n in t)a.push(t[n]);r(a)}))):t.push("/login")}))}),[t]),Object(A.jsxs)("div",{className:e.root,children:[Object(A.jsx)(u.a,{position:"static",children:Object(A.jsxs)(j.a,{children:[Object(A.jsx)(p.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"open drawer",children:Object(A.jsx)(f.a,{})}),Object(A.jsx)(N.a,{className:e.menuButton,alt:m.displayName,src:w}),Object(A.jsx)(h.a,{className:e.title,variant:"h6",noWrap:!0,children:m.displayName}),Object(A.jsx)(p.a,{onClick:function(){return t.push("/new")},edge:"start",className:e.menuButton,color:"inherit","aria-label":"open drawer",children:Object(A.jsx)(y.a,{})}),Object(A.jsxs)("div",{className:e.search,children:[Object(A.jsx)("div",{className:e.searchIcon,children:Object(A.jsx)(v.a,{})}),Object(A.jsx)(b.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"}})]}),Object(A.jsx)(S.a,{onClick:function(){C.auth().signOut().then((function(){t.push("/login")})).catch((function(e){alert("signOut in fail :(.")}))},color:"inherit",children:"Sign Out"})]})}),Object(A.jsx)(R.a,{display:"flex",flexDirection:"row",justifyContent:"center",flexWrap:"wrap",children:c.map((function(e){return Object(A.jsx)(J,{data:e},e.title)}))})]})}var Z=a(400),_=a(186),H=a(401),K=a(404),X=a(140),Q=a(112),$=a(141),ee=a(199),te=a.n(ee);function ae(){return Object(A.jsxs)(h.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(A.jsx)(X.a,{color:"inherit",href:"http://hadishesabz.ir/",children:"Hadishe Sabze Parse"})," ",(new Date).getFullYear(),"."]})}var ne=Object(m.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function ie(){var e=ne(),t=Object(s.f)(),a=Object(n.useState)(""),i=Object(l.a)(a,2),c=i[0],r=i[1],o=Object(n.useState)(""),d=Object(l.a)(o,2),u=d[0],j=d[1],p=Object(n.useState)({error:!1,errorMessage:""}),b=Object(l.a)(p,2),m=b[0],g=b[1];return Object(A.jsxs)($.a,{container:!0,component:"main",className:e.root,children:[Object(A.jsx)(Z.a,{}),Object(A.jsx)($.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),Object(A.jsx)($.a,{item:!0,xs:12,sm:8,md:5,component:Q.a,elevation:6,square:!0,children:Object(A.jsxs)("div",{className:e.paper,children:[Object(A.jsx)(N.a,{className:e.avatar,children:Object(A.jsx)(te.a,{})}),Object(A.jsx)(h.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(A.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(A.jsx)(_.a,{onChange:function(e){return r(e.target.value)},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),Object(A.jsx)(_.a,{onChange:function(e){return j(e.target.value)},variant:"outlined",helperText:m.errorMessage,error:m.error,margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),Object(A.jsx)(H.a,{control:Object(A.jsx)(K.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(A.jsx)(S.a,{onClick:function(){C.auth().signInWithEmailAndPassword(c,u).then((function(e){var a=e.user;a.displayName&&a.photoURL?t.push("/"):t.push("/profile")})).catch((function(e){var t=e.message;g({error:!0,errorMessage:t})}))},fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"Sign In"}),Object(A.jsxs)($.a,{container:!0,children:[Object(A.jsx)($.a,{item:!0,xs:!0,children:Object(A.jsx)(X.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(A.jsx)($.a,{item:!0,children:Object(A.jsx)(X.a,{href:"#",variant:"body2",children:"Don't have an account? Sign Up"})})]}),Object(A.jsx)(R.a,{mt:5,children:Object(A.jsx)(ae,{})})]})]})})]})}var ce=a(32),re=a(115),oe=a.n(re),se=a(116),le=a.n(se),de=Object(m.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(d.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),text:{display:"flex",flexDirection:"column",justifyContent:"center",padding:"0 100px"},cover:{display:"flex",justifyContent:"center",padding:16,alignItems:"center"},input:{display:"none"},search:Object(d.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(g.a)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(g.a)(e.palette.common.white,.25)},marginLeft:0,marginRight:20,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(d.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}}));function ue(){var e=de(),t=Object(s.f)(),a=C.auth().currentUser,i=Object(n.useState)({text:"",error:!1}),c=Object(l.a)(i,2),r=c[0],o=c[1],d=Object(n.useState)({mainState:"initial",imageUploaded:0,selectedFile:null}),b=Object(l.a)(d,2),m=b[0],g=b[1];return Object(A.jsxs)("div",{className:e.root,children:[Object(A.jsx)(u.a,{position:"static",children:Object(A.jsxs)(j.a,{children:[Object(A.jsx)(p.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"open drawer",children:Object(A.jsx)(f.a,{})}),Object(A.jsx)(h.a,{className:e.title,variant:"h6",noWrap:!0,children:"Material-UI"}),Object(A.jsx)(S.a,{onClick:function(){C.auth().signOut().then((function(){t.push("/login")})).catch((function(e){alert("signOut in fail :(.")}))},color:"inherit",children:"Sign Out"})]})}),Object(A.jsxs)(R.a,{className:e.text,children:[Object(A.jsxs)(R.a,{className:e.cover,display:"flex",justifyContent:"center",children:[Object(A.jsx)(_.a,{error:r.error,required:!0,onChange:function(e){return o(Object(ce.a)(Object(ce.a)({},r),{},{text:e.target.value}))},label:"Title",variant:"outlined"}),Object(A.jsx)("input",{onChange:function(e){var t=new FileReader;t.onloadend=function(){g(Object(ce.a)(Object(ce.a)({},m),{},{selectedFile:[t.result]}))},g({mainState:"uploaded",selectedFile:e.target.files[0],imageUploaded:1})},accept:"image/*",className:e.input,id:"icon-button-file",type:"file"}),Object(A.jsx)("label",{htmlFor:"icon-button-file",children:Object(A.jsx)(p.a,{color:"primary","aria-label":"upload picture",component:"span",children:Object(A.jsx)(le.a,{})})})]}),Object(A.jsx)(oe.a,{label:r.error?"This field is required !!!!":"Type something here...",onSave:function(e){if(""!==r.text&&e){var n=C.database().ref("docs"),i={author:a.displayName,avatar:a.photoURL,title:r.text,date:(new Date).toDateString(),cover:m.selectedFile,data:e};n.push(i),t.push("/doc/".concat(r.text,"?data=").concat(e))}else o(Object(ce.a)(Object(ce.a)({},r),{},{error:!0}))},inlineToolbar:!0})]})]})}var je=a(200),pe=a.n(je),he=Object(m.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(d.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),text:{display:"flex",flexDirection:"column",justifyContent:"center",padding:"0 100px"},input:{display:"none"},search:Object(d.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(g.a)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(g.a)(e.palette.common.white,.25)},marginLeft:0,marginRight:20,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(d.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}}));function be(){var e=he(),t=Object(s.f)(),a=new URLSearchParams(Object(s.g)().search).get("data");return Object(A.jsxs)("div",{className:e.root,children:[Object(A.jsx)(u.a,{position:"static",children:Object(A.jsxs)(j.a,{children:[Object(A.jsx)(p.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"open drawer",children:Object(A.jsx)(f.a,{})}),Object(A.jsx)(p.a,{onClick:function(){return t.push("/")},className:e.menuButton,color:"inherit",children:Object(A.jsx)(pe.a,{})}),Object(A.jsx)(h.a,{className:e.title,variant:"h6",noWrap:!0,children:window.location.pathname.split("/")[2]}),Object(A.jsx)(S.a,{onClick:function(){C.auth().signOut().then((function(){t.push("/login")})).catch((function(e){alert("signOut in fail :(.")}))},color:"inherit",children:"Sign Out"})]})}),Object(A.jsxs)(R.a,{className:e.text,children:[Object(A.jsx)(oe.a,{defaultValue:a,readOnly:!0}),Object(A.jsx)("div",{style:{width:100,height:50}})]})]})}var me=a(402),ge=Object(m.a)((function(e){return{root:{flexGrow:1},layout:Object(d.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:Object(d.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),menuButton:{marginRight:e.spacing(2)},title:Object(d.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(d.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(g.a)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(g.a)(e.palette.common.white,.25)},marginLeft:0,marginRight:20,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},input:{display:"none"},inputRoot:{color:"inherit"},avatar:{width:100,height:100},inputInput:Object(d.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}}));function Oe(){var e=ge(),t=Object(s.f)(),a=Object(n.useState)({value:"",error:!1}),i=Object(l.a)(a,2),c=i[0],r=i[1],o=Object(n.useState)({mainState:"initial",imageUploaded:0,selectedFile:null}),d=Object(l.a)(o,2),b=d[0],m=d[1],g=C.auth();Object(n.useEffect)((function(){g.onAuthStateChanged((function(e){e||t.push("/login")}))}),[g,t]);var O=Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("input",{onChange:function(e){var a=new FileReader;a.onloadend=function(){m(Object(ce.a)(Object(ce.a)({},b),{},{selectedFile:[a.result]}))},m({mainState:"uploaded",selectedFile:URL.createObjectURL(e.target.files[0]),imageUploaded:1}),C.storage().ref("users/".concat(g.currentUser.uid,"/profile.jpg")).put(e.target.files[0]).then((function(){g.currentUser.displayName&&g.currentUser.photoURL&&t.push("/")})).catch((function(e){}))},accept:"image/*",className:e.input,id:"icon-button-file",type:"file"}),Object(A.jsx)("label",{htmlFor:"icon-button-file",children:Object(A.jsx)(p.a,{color:"primary","aria-label":"upload picture",component:"span",children:Object(A.jsx)(le.a,{})})})]});return Object(A.jsxs)("div",{className:e.root,children:[Object(A.jsx)(u.a,{position:"static",children:Object(A.jsxs)(j.a,{children:[Object(A.jsx)(p.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"open drawer",children:Object(A.jsx)(f.a,{})}),Object(A.jsx)(h.a,{className:e.title,variant:"h6",noWrap:!0,children:"Completing your profile"}),Object(A.jsx)(S.a,{onClick:function(){g.signOut().then((function(){t.push("/login")})).catch((function(e){alert("signOut in fail :(.")}))},color:"inherit",children:"Sign Out"})]})}),Object(A.jsx)("main",{className:e.layout,children:Object(A.jsxs)(Q.a,{className:e.paper,children:[Object(A.jsx)(h.a,{variant:"h6",gutterBottom:!0,children:"Profile"}),Object(A.jsxs)($.a,{container:!0,spacing:3,children:[Object(A.jsx)($.a,{item:!0,xs:12,md:6,children:Object(A.jsx)(_.a,{error:c.error,onBlur:function(){c.value?(r(Object(ce.a)(Object(ce.a)({},c),{},{error:!1})),g.currentUser.updateProfile({displayName:c.value,photoURL:C.storage().ref("users/".concat(g.currentUser.uid,"/profile.jpg")).fullPath}).then((function(){g.currentUser.displayName&&g.currentUser.photoURL&&t.push("/")})).catch((function(e){}))):r(Object(ce.a)(Object(ce.a)({},c),{},{error:!0}))},onChange:function(e){return r(Object(ce.a)(Object(ce.a)({},c),{},{value:e.target.value}))},variant:"outlined",required:!0,label:"Full name",fullWidth:!0,autoComplete:"cc-name"})}),Object(A.jsx)($.a,{item:!0,xs:12,md:6,children:Object(A.jsx)(me.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},badgeContent:O,children:Object(A.jsx)(N.a,{variant:"rounded",className:e.avatar,alt:c.value,src:b.selectedFile})})})]})]})})]})}var fe=function(){return Object(A.jsx)(o.a,{children:Object(A.jsx)("div",{children:Object(A.jsxs)(s.c,{children:[Object(A.jsx)(s.a,{exact:!0,path:"/login",children:Object(A.jsx)(ie,{})}),Object(A.jsx)(s.a,{exact:!0,path:"/",children:Object(A.jsx)(Y,{})}),Object(A.jsx)(s.a,{exact:!0,path:"/new",children:Object(A.jsx)(ue,{})}),Object(A.jsx)(s.a,{exact:!0,path:"/doc/:title",children:Object(A.jsx)(be,{})}),Object(A.jsx)(s.a,{exact:!0,path:"/profile",children:Object(A.jsx)(Oe,{})})]})})})},xe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,410)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),i(e),c(e),r(e)}))};r.a.render(Object(A.jsx)(i.a.StrictMode,{children:Object(A.jsx)(fe,{})}),document.getElementById("root")),xe()}},[[356,1,2]]]);
//# sourceMappingURL=main.de1984a2.chunk.js.map